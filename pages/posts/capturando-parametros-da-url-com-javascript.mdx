import { withRouter } from 'next/router'
import BlogPost from '../../components/layouts/blog-post'

export const meta = {
  published: true,
  publishedAt: '2020-05-19',
  title: 'Capturando parâmetros da URL com JavaScript',
  summary: 'Atualmente, navegadores modernos dispõem de uma API, exposta através do construtor URLSearchParams, que nos ajuda a trabalhar com o que chamamos de search params. Hoje, vamos utilizar esta ferramenta para entender como capturar parâmetros da URL de forma simples utilizando Vanilla JS.',
  image: '/static/site-feature.png',
  language: 'br',
}

export default withRouter(({ children, router }) => (
  <BlogPost language={meta.language} path={router.pathname} meta={meta}>
    {children}
  </BlogPost>
))


Atualmente, navegadores modernos dispõem de uma API, exposta através do construtor [URLSearchParams](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams), que nos ajuda a trabalhar com o que chamamos de `search params`. Hoje, vamos utilizar esta ferramenta para entender como **capturar parâmetros da URL** de forma simples utilizando **Vanilla JS**.

Digamos que você está desenvolvendo um **software de distribuição anúncios**. Neste projeto, o usuário irá acessar uma URL, e baseados na mesma, iremos distribuir apenas os anúncios de um cliente específico.

Levando em consideraçao que neste caso, o dado que define um cliente na nossa URL é o parâmetro `client`, como fariamos para capturar o dado identificador na URL abaixo?

```js
https://ad.io/?i=3s7d1&client=ejhe7a61c52nr2f
```

Bom, como mencionei acima, temos um construtor que nos ajuda a transformar os dados do `search` em **objeto nativo do JavaScript**. Vejamos o exemplo abaixo:

```js
const { search } = window.location;
const params = new URLSearchParams(search);
const clientId = params.get('client');
```

Neste exemplo, o resultado na variável `clientId` seria `ejhe7a61c52nr2f`. 

Para mais informações sobre o **construtor URLSearchParams**, clique [aqui](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams/URLSearchParams).
